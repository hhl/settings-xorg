<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
        <style>
             body {
                padding-top: 1em;
                padding-bottom: 2em;
                }
            #header-logo {
                margin: 0 auto;
                width: 100%;
                }
            main {
                margin: 0 auto;
                width: 75%;
            }
            pre {
                white-space: pre-line;
                padding-left: 2.5em;
                padding-right: 2.5em;
                font-family:monospace;
                font-size: 1.3em;
                font-style: italic;
                }
            code{
                font-size: 1.35em;
                font-style: italic;
                font-family:monospace;
                font-weight: bold;
                }
             em {
                font-size: 0.95em;
                font-weight: bold;
                }
                
            ul {
                padding-left: 2.5em;
                }
            #author {
                font-weight: bold;
                font-size: 1.25em;
                }
            header {
                margin: 0 auto;
                width: 75%;
            }
        </style>
    <title>Hints Xorg Farewell 2021.2.0</title>
  </head>
  <body>
  <img id="header-logo" src="./pic/logo-background.svg">
    <header><h2>Short help/information for Xorg Farewell 2021.2.0</h2></header>
        <main>
       
        <p>The Xorg and noX flavors come with a new tool to connect your wireless devices. Intels  <em><a href="https://wiki.debian.org/NetworkManager/iwd">iNet wireless daemon</a></em> (<em>iwd</em>) sends WPA-Supplicant into well-earned retirement. Ten times smaller and a lot faster, <em>iwd</em> will be the successor. Further information can be found in the <em><a href="https://wiki.archlinux.org/index.php/Iwd">Arch Linux wiki</a></em>.</p>
        
        <p>You can start an interactive shell by running <code>iwctl</code> from a terminal. Entering 'help' in the shell gives you all the options to list, scan and connect to your device or simply use <code>nmtui</code> or <code>nmcli</code> on the command line or the graphical-interface of Network-Manager</p>
        
        <p>You can also use the following command to connect, without the interaktiv shell, to your Wi-Fi:
            <pre>iwctl --passphrase T0pS3ckr3t station wlan0 connect Home-Office</pre>
        If it is a hidden network, use the <em>'connect-hidden'</em> option.<br>
        To find out which station you need to point out, use the <em>'iwctl station list'</em> command.
        </p>

        <p>If you want to use <em>wpa_supplicant</em> instead of <em>iwd</em> follow the steps below.</p>
        
        <p>First stop and mask iwd.service, stop NetworkManager.service, rename /etc/NetworkManager/conf.d/nm.conf, unmask and start wpa_supplicant.service, start NetworkManager.service again:        
            <pre>
            sudo systemctl stop iwd.service
            sudo systemctl mask iwd.service
            sudo systemctl stop NetworkManager.service
            sudo mv /etc/NetworkManager/conf.d/nm.conf /etc/NetworkManager/conf.d/nm.conf~
            sudo systemctl unmask wpa_supplicant.service
            sudo systemctl enable --now wpa_supplicant.service
            sudo systemctl start NetworkManager.service
            </pre>
        </p>
        
        <p>Now you should be able to connect your wireless device with wpa_supplicant.</p>
        
        <h3>Installing iwd</h3>
        
        <p>If you like, you can use <code>iwd</code> in the other flavors too, either on its own or within Network-Manager.</p>        
        
        <p>To easily set iwd up, use these steps:
            <pre>
            sudo apt update
            sudo apt install iwd
            sudo systemctl stop wpa_supplicant.service
            sudo systemctl mask wpa_supplicant.service
            sudo systemctl stop NetworkManager.service
            sudo touch /etc/NetworkManager/conf.d/nm.conf
            sudo echo -e "[device]\nwifi.backend=iwd" > /etc/NetworkManager/conf.d/nm.conf
            sudo touch /etc/iwd/main.conf
            sudo echo -e "[General]\nEnableNetworkConfiguration=true\n\n[Network]\nNameResolvingService=systemd" > /etc/iwd/main.conf
            sudo systemctl enable --now iwd.service
            sudo systemctl start NetworkManager.service
            </pre>
        </p>

        <h3>The following non-free and contrib packages are installed by default:</h3>

        <h3>Non-free</h3>

        <ul>
            <li>amd64-microcode - Processor microcode firmware for AMD CPUs</li>
            <li>firmware-amd-graphics - Binary firmware for AMD/ATI graphics chips</li><li>firmware-atheros - Binary firmware for Atheros wireless cards</li>
            <li>firmware-bnx2 - Binary firmware for Broadcom NetXtremeII</li>
            <li>firmware-bnx2x - Binary firmware for Broadcom NetXtreme II 10Gb</li>
            <li>firmware-brcm80211 - Binary firmware for Broadcom 802.11 wireless card</li>
            <li>firmware-crystalhd - Crystal HD Video Decoder (firmware)</li>
            <li>firmware-intelwimax - Binary firmware for Intel WiMAX Connection</li>
            <li>firmware-iwlwifi - Binary firmware for Intel Wireless cards</li>
            <li>firmware-libertas - Binary firmware for Marvell Libertas 8xxx wireless card</li>
            <li>firmware-linux-nonfree - Binary firmware for various drivers in the Linux kernel</li>
            <li>firmware-misc-nonfree - Binary firmware for various drivers in the Linux kernel</li>
            <li>firmware-myricom - Binary firmware for Myri-10G Ethernet adapters</li>
            <li>firmware-netxen - Binary firmware for QLogic Intelligent Ethernet (3000)</li>
            <li>firmware-qlogic - Binary firmware for QLogic HBAs</li>
            <li>firmware-realtek - Binary firmware for Realtek wired/wifi/BT adapters</li>
            <li>firmware-ti-connectivity - Binary firmware for TI Connectivity wireless network</li>
            <li>firmware-zd1211 - binary firmware for the zd1211rw wireless driver</li>
            <li>intel-microcode - Processor microcode firmware for Intel CPUs</li>
        </ul>

        <h3>Contrib</h3>

        <ul><li>b43-fwcutter - utility for extracting Broadcom 43xx firmware</li><li>firmware-b43-installer - firmware installer for the b43 driver</li><li>firmware-b43legacy-installer - firmware installer for the b43legacy driver</li><li>iucode-tool - Intel processor microcode</li></ul>

        <h3>Return to non-free</h3>

        <p>Right now the installer does not offer an opt-out for packages that do not comply with DFSG, the Debian Free Software Guidelines. That means that non-free packages like unfree firmware will be installed by default on the system. The command<code> vrms</code> will list these packages for you. You can remove not wanted packages manually or remove them all by issuing<code> apt purge $(vrms -s)</code> before or after installation. Else our script <code>remove-nonfree</code> can do that for you.</p>
        
       
        <h3>Installation hints and known issues</h3>

        <ul>
            <li>If you want to reuse your existing home (or any other data) partition, it would be wise to do so after installation and not in the Calamares Installer.</li>
            <li>Encryption setups like LUKS and others are not yet supported by the Installer Framework, you should prepare your partition setup beforehand and might better use the <code>cli-installer</code> in a terminal.</li>        
            <li>With some Intel GPUs on some devices, you might encounter a frozen system on Live shortly after boot. To fix this you need to set the kernel parameter <code>intel_iommu=igfx_off</code> before booting again.</li>
        </ul>

        <h3>Credits for siduction 2021.2.0</h3>

        <h3>Core Team</h3>
  
        <p>Alf Gaida (agaida), vanished from the face of the earth<br>
          Axel Beu (ab) &#8224;, In memoriam<br>
          Torsten Wohlfarth (towo)<br>
          Hendrik Lehmbruch (hendrikL)<br>
          Ferdinand Thommes (devil)<br>
          Vinzenz Vietzke (vinzv)</p>

        <h3>Code, ideas and support:</h3>

        <p>der_bud<br>
          Stefan Tell (cryptosteve)<br>
          Markus Meyer (coruja)<br>
          akli (for his work on getting the manual back in shape)</p>
        <h3>Thank you!</h3>

        <p>We want to thank all testers and all the people giving us support over the years. This is also your achievement. We also want to thank Debian, as we are standing on the shoulders of giants.<br>And now enjoy!</p>

        <p>On behalf of the siduction team:</p>
        <p id="author">Ferdinand Thommes</p>
    </main>
  </body>
</html>
